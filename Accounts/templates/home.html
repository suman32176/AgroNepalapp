{% extends "base.html" %}

{% block content %}
{% if messages %}
            <div class="fixed top-4 right-4 z-50 w-full max-w-md">
                {% for message in messages %}
                    <div class="bg-white border-l-4 border-indigo-500 text-indigo-700 p-4 mb-3 rounded-lg shadow-lg animate-fade-in-down flex items-center">
                        <i class="fas fa-info-circle mr-2"></i>
                        <span>{{ message }}</span>
                        <button class="ml-auto text-gray-400 hover:text-gray-600" onclick="this.parentElement.remove()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
<style>
	/*  Styles  for  hero slider only start */
	@keyframes fadeIn {
		from {
			opacity: 0;
			transform: scale(0.95);
		}

		to {
			opacity: 1;
			transform: scale(1);
		}
	}

	@keyframes slideUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}

		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.slide {
		opacity: 0;
		transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
		pointer-events: none;
	}

	.slide.active {
		opacity: 1;
		pointer-events: auto;
	}

	.slide.active .slide-content>* {
		animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
	}

	.slide.active .slide-content>*:nth-child(1) {
		animation-delay: 0.2s;
	}

	.slide.active .slide-content>*:nth-child(2) {
		animation-delay: 0.4s;
	}

	.slide.active .slide-content>*:nth-child(3) {
		animation-delay: 0.6s;
	}

	.slide.active .slide-content>*:nth-child(4) {
		animation-delay: 0.8s;
	}

	.slide-image {
		transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.slide.active .slide-image {
		transform: scale(1);
	}

	.indicator {
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.glass-nav {
		backdrop-filter: blur(8px);
		background: rgba(255, 255, 255, 0.1);
	}

	/*  Styles  for  hero slider only ends */




	/* Custom Styles */

	.description {
		max-height: 150px;
		overflow-y: auto;
		scrollbar-width: none;
		-ms-overflow-style: none;
	}

	.description::-webkit-scrollbar {
		display: none;
	}

	.product-container {
		width: 100%;
		height: 400px;
		display: flex;
		flex-direction: column;
		transition: transform 0.3s ease, box-shadow 0.3s ease;
	}

	.product-container:hover {
		transform: translateY(-5px);
		box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
	}

	.product-img {
		height: 60%;
		object-fit: cover;
		border-radius: 8px 8px 0 0;
	}

	.product-content {
		flex-grow: 1;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		padding: 1.5rem;
		background: #fff;
		border-radius: 0 0 8px 8px;
	}

	.header {
		background: linear-gradient(135deg, #4caf50, #81c784);
		color: white;
		padding: 6rem 0;
		text-align: center;
	}

	.header h1 {
		font-size: 3.5rem;
		font-weight: 700;
		animation: fadeInDown 1s ease;
	}

	.header p {
		font-size: 1.5rem;
		margin-top: 1rem;
		animation: fadeInUp 1s ease;
	}

	.btn-primary {
		background: #3f51b5;
		color: white;
		padding: 0.75rem 2rem;
		border-radius: 50px;
		font-size: 1rem;
		transition: background 0.3s ease;
	}

	.btn-primary:hover {
		background: #303f9f;
	}

	.btn-secondary {
		background: #ff9800;
		color: white;
		padding: 0.75rem 2rem;
		border-radius: 50px;
		font-size: 1rem;
		transition: background 0.3s ease;
	}

	.btn-secondary:hover {
		background: #f57c00;
	}

	.section-title {
		font-size: 2.5rem;
		font-weight: 700;
		color: #2c3e50;
		margin-bottom: 2rem;
		text-align: center;
		position: relative;
	}

	.section-title::after {
		content: '';
		display: block;
		width: 60px;
		height: 4px;
		background: #4caf50;
		margin: 0.5rem auto 0;
	}

	.testimonial-card {
		background: white;
		border-radius: 8px;
		padding: 1.5rem;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		transition: transform 0.3s ease;
	}

	.testimonial-card:hover {
		transform: translateY(-5px);
	}

	.cta-section {
		background: linear-gradient(135deg, #4caf50, #81c784);
		color: white;
		padding: 4rem 0;
		text-align: center;
	}

	.cta-section h2 {
		font-size: 2.5rem;
		font-weight: 700;
		margin-bottom: 1rem;
	}

	.cta-section p {
		font-size: 1.25rem;
		margin-bottom: 2rem;
	}

	.cta-section .btn-cta {
		background: white;
		color: #4caf50;
		padding: 0.75rem 2rem;
		border-radius: 50px;
		font-size: 1rem;
		transition: background 0.3s ease, color 0.3s ease;
	}

	.cta-section .btn-cta:hover {
		background: #f1f1f1;
		color: #388e3c;
	}

	@keyframes fadeInDown {
		from {
			opacity: 0;
			transform: translateY(-20px);
		}

		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}

		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>



<!-- hero slider start -->

<div class="relative h-[560px]  w-full overflow-hidden">
	<!-- Slides -->
	<div class="h-full">
		<!-- Slide 1 - Products -->
		<div class="slide absolute inset-0">
			<div class="relative h-full w-full bg-gradient-to-br from-violet-100 via-purple-100 to-blue-200">
				<div class="mx-auto flex h-full max-w-7xl items-center px-6 lg:px-8">
					<div class="grid gap-12 lg:grid-cols-2">
						<div class="slide-content flex flex-col justify-center space-y-8">
							<div class="space-y-2">
								<h2 class="text-5xl font-bold text-gray-900 md:text-6xl lg:text-7xl tracking-tight">
									Local Products
								</h2>
								<p
									class="text-3xl font-bold bg-gradient-to-r from-yellow-600 to-blue-600 bg-clip-text text-transparent md:text-4xl">
									GROWN With Love
								</p>
							</div>
							<p class="text-xl text-gray-600 max-w-lg">
								Browse our exclusive range of locally made products, crafted with dedication and love.
							</p>
							<div class="flex gap-4">
								<button onclick="window.location.href='/product'"
									class="group relative px-8 py-4 bg-purple-600 text-white rounded-xl text-lg font-semibold overflow-hidden transition-all hover:shadow-xl hover:shadow-purple-200">
									<span class="relative z-10">ORDER NOW</span>
									<div
										class="absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity">
									</div>
								</button>
							</div>
						</div>
						<div class="hidden lg:block relative">
							<div class="slide-image absolute inset-0 scale-95">
								<img src="/static/local_product.jpg" alt="Local Products"
									class="h-full w-full object-cover rounded-2xl shadow-2xl">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Slide 2 - Job Opportunities -->
		<div class="slide absolute inset-0">
			<div class="relative h-full w-full bg-gradient-to-br from-green-100 via-emerald-100 to-teal-200">
				<div class="mx-auto flex h-full max-w-7xl items-center px-6 lg:px-8">
					<div class="grid gap-12 lg:grid-cols-2">
						<div class="slide-content flex flex-col justify-center space-y-8">
							<div class="space-y-2">
								<h2 class="text-5xl font-bold text-gray-900 md:text-6xl lg:text-7xl tracking-tight">
									Earning Opportunities
								</h2>
								<p
									class="text-3xl font-bold bg-gradient-to-r from-red-600 to-teal-600 bg-clip-text text-transparent md:text-4xl">
									JOIN Our Team
								</p>
							</div>
							<p class="text-xl text-gray-600 max-w-lg">
								No requirements - Lifetime career opportunity awaits you in our growing team.
							</p>
							<div class="flex gap-4">
								<button onclick="window.location.href='/job'"
									class="group relative px-8 py-4 bg-green-600 text-white rounded-xl text-lg font-semibold overflow-hidden transition-all hover:shadow-xl hover:shadow-green-200">
									<span class="relative z-10">More details</span>
									<div
										class="absolute inset-0 bg-gradient-to-r from-green-600 to-teal-600 opacity-0 group-hover:opacity-100 transition-opacity">
									</div>
								</button>
							</div>
						</div>
						<div class="hidden lg:block relative">
							<div class="slide-image absolute inset-0 scale-95">
								<img src="/static/worker.jpg" alt="Job Opportunities"
									class="h-full w-full object-cover rounded-2xl shadow-2xl">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Slide 3 - Special Offers -->
		<div class="slide absolute inset-0">
			<div class="relative h-full w-full bg-gradient-to-br from-yellow-100 via-amber-100 to-orange-200">
				<div class="mx-auto flex h-full max-w-7xl items-center px-6 lg:px-8">
					<div class="grid gap-12 lg:grid-cols-2">
						<div class="slide-content flex flex-col justify-center space-y-8">
							<div class="space-y-2">
								<h2 class="text-5xl font-bold text-gray-900 md:text-6xl lg:text-7xl tracking-tight">
									Wholesale Deals
								</h2>
								<p
									class="text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent md:text-4xl">
									Buy More, Save More!
								</p>
							</div>
							<p class="text-xl text-gray-600 max-w-lg">
								Stock up and save with exclusive bulk discounts. Get unbeatable prices on high-quality products
							</p>
							<div class="flex gap-4">
								<button onclick="window.location.href='/deals'"
									class="group relative px-8 py-4 bg-amber-600 text-white rounded-xl text-lg font-semibold overflow-hidden transition-all hover:shadow-xl hover:shadow-amber-200">
									<span class="relative z-10">Shop Wholesale</span>
									<div
										class="absolute inset-0 bg-gradient-to-r from-amber-600 to-orange-600 opacity-0 group-hover:opacity-100 transition-opacity">
									</div>
								</button>
							</div>
						</div>
						<div class="hidden lg:block relative">
							<div class="slide-image absolute inset-0 scale-95">
								<img src="/static/wholesale.jpg" alt="Special Offers"
									class="h-full w-full object-cover rounded-2xl shadow-2xl">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Slide 4 - Customer Testimonials -->
		<div class="slide absolute inset-0">
			<div class="relative h-full w-full bg-gradient-to-br from-blue-100 via-cyan-100 to-indigo-200">
				<div class="mx-auto flex h-full max-w-7xl items-center px-6 lg:px-8">
					<div class="grid gap-12 lg:grid-cols-2">
						<div class="slide-content flex flex-col justify-center space-y-8">
							<div class="space-y-2">
								<h2 class="text-5xl font-bold text-gray-900 md:text-6xl lg:text-7xl tracking-tight">
									Entertainment Hub
								</h2>
								<p
									class="text-3xl font-bold bg-gradient-to-r from-green-600 to-indigo-600 bg-clip-text text-transparent md:text-4xl">
									Real Experiences
								</p>
							</div>
							<p class="text-xl text-gray-600 max-w-lg">
								Dive into a world of fun conversations! 
							</p>
							<div class="flex gap-4">
								<button onclick="window.location.href='/chat'"
									class="group relative px-8 py-4 bg-green-600 text-white rounded-xl text-lg font-semibold overflow-hidden transition-all hover:shadow-xl hover:shadow-blue-200">
									<span class="relative z-10">CHAT NOW</span>
									<div
										class="absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity">
									</div>
								</button>
							</div>
						</div>
						<div class="hidden lg:block relative">
							<div class="slide-image absolute inset-0 scale-95">
								<img src="/static/chat.jpg" alt="Customer Testimonials"
									class="h-full w-full object-cover rounded-2xl shadow-2xl">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

        <!-- Slide 5 - Customer Testimonials -->
		<div class="slide absolute inset-0">
			<div class="relative h-full w-full bg-gradient-to-br from-blue-100 via-cyan-100 to-indigo-200">
				<div class="mx-auto flex h-full max-w-7xl items-center px-6 lg:px-8">
					<div class="grid gap-12 lg:grid-cols-2">
						<div class="slide-content flex flex-col justify-center space-y-8">
							<div class="space-y-2">
								<h2 class="text-5xl font-bold text-gray-900 md:text-6xl lg:text-7xl tracking-tight">
									Delivery Service
								</h2>
								<p
									class="text-3xl font-bold bg-gradient-to-r from-red-600 to-indigo-600 bg-clip-text text-transparent md:text-4xl">
									Delivering with Safety as Our Priority!
								</p>
							</div>
							<p class="text-xl text-gray-600 max-w-lg">
								Carefully packed. Safely delivered. Always fresh and protected — just the way it should be.
							</p>
							<div class="flex gap-4">
								<button onclick="window.location.href='/chat'"
									class="group relative px-8 py-4 bg-red-600 text-white rounded-xl text-lg font-semibold overflow-hidden transition-all hover:shadow-xl hover:shadow-blue-200">
									<span class="relative z-10">Order Now</span>
									<div
										class="absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity">
									</div>
								</button>
							</div>
						</div>
						<div class="hidden lg:block relative">
							<div class="slide-image absolute inset-0 scale-95">
								<img src="/static/deliveryboy.jpg" alt="Customer Testimonials"
									class="h-full w-full object-cover rounded-2xl shadow-2xl">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Navigation -->
	<div class="absolute inset-x-0 bottom-8 flex justify-center items-center gap-3 z-20">
		<div class="glass-nav px-6 py-3 rounded-full flex items-center gap-3">
			<button onclick="prevSlide()" class="p-2 rounded-full hover:bg-white/20 transition-colors">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
					stroke="currentColor" class="w-5 h-5 text-gray-700">
					<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
				</svg>
			</button>
			<div class="flex gap-2">
				<button onclick="goToSlide(0)"
					class="indicator h-2 w-8 rounded-full bg-gray-600 hover:bg-gray-600/40 transition-all"></button>
				<button onclick="goToSlide(1)"
					class="indicator h-2 w-2 rounded-full bg-gray-600/20 hover:bg-gray-600/40 transition-all"></button>
				<button onclick="goToSlide(2)"
					class="indicator h-2 w-2 rounded-full bg-gray-600/20 hover:bg-gray-600/40 transition-all"></button>
				<button onclick="goToSlide(3)"
					class="indicator h-2 w-2 rounded-full bg-gray-600/20 hover:bg-gray-600/40 transition-all"></button>
                <button onclick="goToSlide(4)"
					class="indicator h-2 w-2 rounded-full bg-gray-600/20 hover:bg-gray-600/40 transition-all"></button>
			</div>
			<button onclick="nextSlide()" class="p-2 rounded-full hover:bg-white/20 transition-colors">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
					stroke="currentColor" class="w-5 h-5 text-gray-700">
					<path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
				</svg>
			</button>
		</div>
	</div>
</div>
<!-- hero slider end -->

<!-- Features Grid  start---------------------------------------------------------------------->
<div class="w-full max-w-7xl mx-auto px-4 py-8">

	<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">

		<div class="flex items-center space-x-4 p-4 bg-white rounded-lg shadow-md">

			<div class="flex-shrink-0">
				<div class="p-3 bg-blue-100 rounded-full">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="w-8 h-8 text-blue-600">
						<path d="M16 21v-2a4 4 0 0 0-4-4H4a4 4 0 0 0-4 4v2" />
						<circle cx="8" cy="7" r="4" />
						<polyline points="16 11 18 13 22 9" />
					</svg>
				</div>
			</div>
			<div>
				<h3 class="text-lg font-bold text-gray-800 mb-1">Earning Opportunity</h3>
				<p class="text-sm text-gray-600 leading-snug">
					We offer  you<br>
					Refer & Earn and <br> Sell Products<br>
					
				</p>
			</div>
		</div>
		<!-- Express Delivery -->
		<div class="flex items-center space-x-4 p-4 bg-white rounded-lg shadow-md">
			<div class="flex-shrink-0">
				<div class="p-3 bg-red-100 rounded-full">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="w-6 h-6 text-red-600">
						<path d="M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11" />
						<path d="M14 9h4l4 4v4c0 .6-.4 1-1 1h-2" />
						<circle cx="7" cy="18" r="2" />
						<circle cx="17" cy="18" r="2" />
					</svg>
				</div>
			</div>
			<div>
				<h3 class="text-lg font-bold text-gray-800 mb-1">Safe Delivery</h3>
				<p class="text-sm text-gray-600 leading-snug">
					Enjoy secure and fast delivery within 24 hours.<br>
    Order today, receive it tomorrow with guaranteed safety!
				</p>
			</div>
		</div>

		<!-- Money Back Guarantee -->
		<div class="flex items-center space-x-4 p-4 bg-white rounded-lg shadow-md">
			<div class="flex-shrink-0">
				<div class="p-3 bg-green-100 rounded-full">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="w-6 h-6 text-green-600">
						<rect x="2" y="4" width="20" height="16" rx="2" />
						<path d="M7 15h0M2 9.5h20" />
					</svg>
				</div>
			</div>
			<div>
				<h3 class="text-lg font-bold text-gray-800 mb-1">Money Back Guarantee</h3>
				<p class="text-sm text-gray-600 leading-snug">
					7 Days Money Back<br>
					Guarantee
				</p>
			</div>
		</div>

		<!-- Fair Trade -->
		<div class="flex items-center space-x-4 p-4 bg-white rounded-lg shadow-md">
			<div class="flex-shrink-0">
				<div class="p-3 bg-purple-100 rounded-full">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
						stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
						class="w-6 h-6 text-purple-600">
						<path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2" />
						<rect x="3" y="4" width="18" height="18" rx="2" />
						<circle cx="12" cy="10" r="2" />
						<path d="M8 2v2" />
						<path d="M16 2v2" />
					</svg>
				</div>
			</div>
			<div>
				<h3 class="text-lg font-bold text-gray-800 mb-1">Fair Trade</h3>
				<p class="text-sm text-gray-600 leading-snug">
					Over 70% of the money goes<br>
					to producers and farmers.
				</p>
			</div>
		</div>


	</div>

</div>


<!-- Features Grid  ends---------------------------------------------------------------------->
<section class="bg-gradient-to-r from-blue-600 to-green-500 text-white py-16 text-center">
    <div class="max-w-3xl mx-auto">
        <h2 class="text-4xl font-bold mb-4">📦 Wholesale Deals for Bulk Buyers! 🚛</h2>
        <p class="text-lg mb-6">Get the best discounts on bulk purchases. Special prices for wholesalers – buy more, save more!</p>
        <a href="{% url 'deals' %}" class="bg-white text-blue-600 hover:bg-gray-200 font-bold py-3 px-6 rounded-lg shadow-md transition duration-300">
            Explore Wholesale Deals 🛒
        </a>
    </div>
</section>

<!-- Recently Added Products Section -->
<section class="py-20 bg-light relative overflow-hidden">
    <!-- Decorative Elements -->
    <div class="absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full -translate-y-1/2 translate-x-1/2"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-secondary/5 rounded-full translate-y-1/2 -translate-x-1/2"></div>
    
    <!-- Leaf Pattern Overlay -->
    <div class="absolute inset-0 pointer-events-none opacity-5">
        <div class="absolute top-10 right-10">
            <svg width="120" height="120" viewBox="0 0 24 24" fill="currentColor" class="text-primary">
                <path d="M6.05 4.14l-.39-.39a2.78 2.78 0 0 0-3.92 0l-.39.39a2.78 2.78 0 0 0 0 3.92l.39.39.39.39c.68.68 1.62 1 2.56.98l.01-.03c-.26-.5-.39-1.04-.39-1.59 0-1.84 1.49-3.33 3.33-3.33.55 0 1.09.13 1.58.4l.01-.02c.02-.94-.3-1.88-.98-2.56l-.39-.39-.39-.39zM19.95 4.14l.39-.39a2.78 2.78 0 0 0 0-3.92l-.39-.39a2.78 2.78 0 0 0-3.92 0l-.39.39-.39.39c-.68.68-1 1.62-.98 2.56l.02.01c.5-.26 1.04-.39 1.59-.39 1.84 0 3.33 1.49 3.33 3.33 0 .55-.13 1.09-.4 1.58l.02.01c.94-.02 1.88-.3 2.56-.98l.39-.39.39-.39zM19.95 19.86l.39.39a2.78 2.78 0 0 0 3.92 0l.39-.39a2.78 2.78 0 0 0 0-3.92l-.39-.39-.39-.39c-.68-.68-1.62-1-2.56-.98l-.01.03c.26.5.39 1.04.39 1.59 0 1.84-1.49 3.33-3.33 3.33-.55 0-1.09-.13-1.58-.4l-.01.02c-.02.94.3 1.88.98 2.56l.39.39.39.39zM4.05 19.86l-.39.39a2.78 2.78 0 0 0 0 3.92l.39.39a2.78 2.78 0 0 0 3.92 0l.39-.39.39-.39c.68-.68 1-1.62.98-2.56l-.02-.01c-.5.26-1.04.39-1.59.39-1.84 0-3.33-1.49-3.33-3.33 0-.55.13-1.09.4-1.58l-.02-.01c-.94.02-1.88.3-2.56.98l-.39.39-.39.39z"></path>
            </svg>
        </div>
        <div class="absolute bottom-20 left-1/4">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="currentColor" class="text-secondary">
                <path d="M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29a.9959.9959 0 0 0-1.41 0L15 2.25 18.75 6l1.96-1.96z"></path>
                <path d="M0 20h24v4H0z"></path>
            </svg>
        </div>
    </div>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="flex flex-col items-center mb-12">
            <div class="flex items-center justify-center mb-4">
                <div class="h-px w-8 bg-primary/30"></div>
                <span class="mx-4 text-sm font-bold text-primary px-4 py-2 bg-primary/10 rounded-full">NEW ARRIVALS</span>
                <div class="h-px w-8 bg-primary/30"></div>
            </div>
            <h2 class="text-3xl md:text-4xl font-serif font-bold text-center text-primary mb-2">Recently Added Products</h2>
            <p class="text-gray-600 text-center max-w-2xl">Explore our latest collection of high-quality products, from everyday essentials to specialty items. Fresh arrivals, now available!</p>
        </div>

        <!-- Products Carousel -->
        <div class="relative">
            <!-- Navigation Arrows -->
            <button class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 bg-white p-3 rounded-full shadow-lg text-primary hover:bg-primary hover:text-white transition-colors duration-300 hidden md:block" id="prev-btn">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 bg-white p-3 rounded-full shadow-lg text-primary hover:bg-primary hover:text-white transition-colors duration-300 hidden md:block" id="next-btn">
                <i class="fas fa-chevron-right"></i>
            </button>

            <!-- Products Slider -->
            <div class="overflow-hidden" id="products-slider">
                <div class="flex transition-transform duration-500 ease-in-out" id="products-track">
                    {% for product in recent_products %}
                    <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 flex-shrink-0 px-3">
                        <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden h-full flex flex-col group">
                            <!-- New Badge -->
                            <div class="absolute top-3 left-3 z-10">
                                <span class="bg-accent text-primary text-xs font-bold px-2 py-1 rounded-full">NEW</span>
                            </div>
                            
                            <!-- Product Image -->
                            <div class="relative overflow-hidden">
                                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110">
                                
                                <!-- Quick View Overlay -->
                                <div class="absolute inset-0 bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                    <a href="/product/{{ product.id }}" class="bg-white text-primary rounded-full p-2 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                </div>
                                <!-- Wishlist Button -->
                    <button onclick="window.location.href='{% url 'add_to_cart' product.id %}'" 
	                {% if product.stock <= 0 %}disabled{% endif %}
	                class="absolute top-4 right-4 bg-white/80 hover:bg-white p-2 rounded-full shadow-md z-10 transition-all duration-300 text-gray-600 hover:text-red-500 hover:scale-110">
	                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
		                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
			                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
		                </path>
	                </svg>
                    </button>
                            </div>
                            
                            <!-- Product Info -->
                            <div class="p-4 flex-grow flex flex-col">
                                <div class="flex items-center text-xs text-gray-500 mb-1">
                                    <i class="fas fa-calendar-alt mr-1 text-primary/70"></i>
                                    <span>Added {{ product.created_at|date:"M d, Y" }}</span>
                                </div>
                                
                                <h3 class="font-bold text-gray-800 mb-1 group-hover:text-primary transition-colors duration-300">{{ product.name }}</h3>
                                
                                <p class="text-sm text-gray-600 mb-3 line-clamp-2 flex-grow">{{ product.description|truncatechars:60 }}</p>
                                
                                <div class="flex items-center justify-between mt-auto">
                                    <span class="text-lg font-bold text-primary">Rs. {{ product.price }}</span>
                                    
                                    {% if product.stock > 0 %}
                                    <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full">In Stock</span>
                                    {% else %}
                                    <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full">Out of Stock</span>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <!-- Buy Now Button -->
                            <div class="p-4 pt-0">
                                <button type="button" 
                                        onclick="window.location.href='{% url 'order' product.id %}'" 
                                        {% if product.stock == 0 %}disabled{% endif %}
                                        class="w-full py-2 rounded-lg flex items-center justify-center transition-colors duration-300 
                                               {% if product.stock > 0 %}bg-secondary hover:bg-accent text-dark{% else %}bg-gray-200 text-gray-500 cursor-not-allowed{% endif %}">
                                               <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                                            </svg>
                                    <span>Buy Now</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                    <div class="w-full text-center py-12">
                        <div class="inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4">
                            <i class="fas fa-leaf text-primary text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-primary mb-2">No New Products Yet</h3>
                        <p class="text-gray-600">Check back soon for our latest agricultural products!</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <!-- View All Link -->
        <div class="text-center mt-10">
            <a href="/product" class="inline-flex items-center text-primary hover:text-accent transition-colors duration-300 font-medium">
                <span>View All Products</span>
                <i class="fas fa-long-arrow-alt-right ml-2"></i>
            </a>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const track = document.getElementById('products-track');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        
        if (!track || !prevBtn || !nextBtn) return;
        
        // Calculate how many items to show based on screen size
        const getItemsToShow = () => {
            if (window.innerWidth >= 1024) return 4; // lg
            if (window.innerWidth >= 768) return 3; // md
            if (window.innerWidth >= 640) return 2; // sm
            return 1; // xs
        };
        
        let currentIndex = 0;
        const items = track.children;
        const totalItems = items.length;
        
        const updateCarousel = () => {
            const itemsToShow = getItemsToShow();
            const itemWidth = 100 / itemsToShow;
            const maxIndex = Math.max(0, totalItems - itemsToShow);
            
            // Ensure currentIndex is within bounds
            currentIndex = Math.min(Math.max(0, currentIndex), maxIndex);
            
            // Update transform
            track.style.transform = `translateX(-${currentIndex * itemWidth}%)`;
            
            // Update button states
            prevBtn.disabled = currentIndex === 0;
            prevBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
            nextBtn.disabled = currentIndex >= maxIndex;
            nextBtn.style.opacity = currentIndex >= maxIndex ? '0.5' : '1';
        };
        
        // Set initial item widths
        const setItemWidths = () => {
            const itemsToShow = getItemsToShow();
            const itemWidth = 100 / itemsToShow;
            
            Array.from(items).forEach(item => {
                item.style.width = `${itemWidth}%`;
            });
        };
        
        // Event listeners
        prevBtn.addEventListener('click', () => {
            currentIndex = Math.max(0, currentIndex - 1);
            updateCarousel();
        });
        
        nextBtn.addEventListener('click', () => {
            const itemsToShow = getItemsToShow();
            const maxIndex = Math.max(0, totalItems - itemsToShow);
            currentIndex = Math.min(maxIndex, currentIndex + 1);
            updateCarousel();
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            setItemWidths();
            updateCarousel();
        });
        
        // Initialize
        setItemWidths();
        updateCarousel();
    });
</script>

<style>
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>
<!-- Recently Added Products Section ends -->



<!-- Featured Products Section start -->

<section id="products" class="py-24 bg-gradient-to-br from-primary via-primary/90 to-primary/80 text-light overflow-hidden relative">
    <!-- Nature-inspired Background Elements -->
    <div class="absolute inset-0 overflow-hidden opacity-20">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-secondary rounded-full mix-blend-multiply filter blur-3xl animate-leaf"></div>
        <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-accent rounded-full mix-blend-multiply filter blur-3xl animate-leaf animation-delay-2000"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-secondary/80 rounded-full mix-blend-multiply filter blur-3xl animate-leaf animation-delay-4000"></div>
    </div>
    
    <!-- Decorative Elements -->
    <div class="absolute top-0 left-0 w-full h-20 bg-gradient-to-b from-white/5 to-transparent"></div>
    <div class="absolute bottom-0 left-0 w-full h-20 bg-gradient-to-t from-white/5 to-transparent"></div>
    
    <!-- Floating Leaves (SVG) -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <svg class="absolute top-10 left-10 text-accent/20 w-20 h-20 animate-float animation-delay-1000" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6.05 4.14l-.39-.39a2.78 2.78 0 0 0-3.92 0l-.39.39a2.78 2.78 0 0 0 0 3.92l.39.39.39.39c.68.68 1.62 1 2.56.98l.01-.03c-.26-.5-.39-1.04-.39-1.59 0-1.84 1.49-3.33 3.33-3.33.55 0 1.09.13 1.58.4l.01-.02c.02-.94-.3-1.88-.98-2.56l-.39-.39-.39-.39zM19.95 4.14l.39-.39a2.78 2.78 0 0 0 0-3.92l-.39-.39a2.78 2.78 0 0 0-3.92 0l-.39.39-.39.39c-.68.68-1 1.62-.98 2.56l.02.01c.5-.26 1.04-.39 1.59-.39 1.84 0 3.33 1.49 3.33 3.33 0 .55-.13 1.09-.4 1.58l.02.01c.94-.02 1.88-.3 2.56-.98l.39-.39.39-.39zM19.95 19.86l.39.39a2.78 2.78 0 0 0 3.92 0l.39-.39a2.78 2.78 0 0 0 0-3.92l-.39-.39-.39-.39c-.68-.68-1.62-1-2.56-.98l-.01.03c.26.5.39 1.04.39 1.59 0 1.84-1.49 3.33-3.33 3.33-.55 0-1.09-.13-1.58-.4l-.01.02c-.02.94.3 1.88.98 2.56l.39.39.39.39zM4.05 19.86l-.39.39a2.78 2.78 0 0 0 0 3.92l.39.39a2.78 2.78 0 0 0 3.92 0l.39-.39.39-.39c.68-.68 1-1.62.98-2.56l-.02-.01c-.5.26-1.04.39-1.59.39-1.84 0-3.33-1.49-3.33-3.33 0-.55.13-1.09.4-1.58l-.02-.01c-.94.02-1.88.3-2.56.98l-.39.39-.39.39z"></path>
        </svg>
        <svg class="absolute top-1/4 right-20 text-secondary/20 w-16 h-16 animate-float animation-delay-2000" viewBox="0 0 24 24" fill="currentColor">
            <path d="M17.75 7L14 3.25l-10 10V17h3.75l10-10zm2.96-2.96c.39-.39.39-1.02 0-1.41L18.37.29a.9959.9959 0 0 0-1.41 0L15 2.25 18.75 6l1.96-1.96z"></path>
            <path d="M0 20h24v4H0z"></path>
        </svg>
        <svg class="absolute bottom-20 left-1/3 text-accent/20 w-24 h-24 animate-float animation-delay-3000" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 22c4.56 0 8.33-3.4 8.92-7.8.09-.64-.48-1.21-1.12-1.12-4.4.59-7.8 4.36-7.8 8.92"></path>
            <path d="M5.6 10.25a2.5 2.5 0 0 0 3.92 2.06l-.02.19a2.5 2.5 0 0 0 5 0l-.02-.19a2.5 2.5 0 0 0 4.44-2.06c-1.43.72-3.08 1.75-4.07 3.12l-.91 1.15-.91-1.15c-.99-1.37-2.64-2.4-4.07-3.12z"></path>
        </svg>
    </div>

    <div class="container mx-auto max-w-screen-xl px-6 relative z-10">

        <div class="flex flex-col items-center mb-16">
            
            <h2 class="text-4xl md:text-5xl font-serif font-bold text-center mb-4 text-light">
                Featured Products
            </h2>
            <div class="w-24 h-1 bg-accent mb-6 rounded-full"></div>
            <p class="text-xl text-center max-w-2xl text-light/90 font-sans">
                Looking for fresh and pure products? Discover our carefully chosen dairy and local goods straight from reliable Nepali farms.

            </p>

        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
            {% for product in products|slice:":6" %}
            <div class="group hover-grow overflow-hidden rounded-2xl shadow-xl bg-white/10 backdrop-filter backdrop-blur-sm border border-white/10 transition-all duration-500">
                <div class="relative overflow-hidden">
                    <!-- Product Image -->
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" 
                         class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
                         <a href="{% url 'add_to_cart' product.id %}" {% if product.stock <= 0 %}tabindex="-1" {% endif %}
                         class="absolute top-4 right-4 bg-white/80 hover:bg-white p-2 rounded-full shadow-md z-10 transition-all duration-300 text-gray-600 hover:text-red-500 hover:scale-110 {% if product.stock <= 0 %}opacity-50 pointer-events-none{% endif %}">
                         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                 d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
                             </path>
                         </svg>
                     </a>
                    <!-- Discount Badge (if applicable) ---------------->

                    {% if product.discount %}
                    <div class="absolute top-4 right-4 bg-accent text-primary px-3 py-1 rounded-full text-sm font-bold">
                        {{ product.discount }}% OFF
                    </div>
                    {% endif %}
                    
                    <!-- Quick Actions -->
                    <div class="absolute inset-0 bg-gradient-to-t from-primary/90 via-primary/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6">
                        <div class="transform translate-y-8 group-hover:translate-y-0 transition-transform duration-300">
                            <div class="flex justify-end space-x-2 mb-4">
                                <button onclick="window.location.href='{% url 'toggle_wishlist' product.id %}'" class="bg-white/20 hover:bg-white/40 p-2 rounded-full transition-colors duration-300" title="Add to Wishlist">
                                    <i class="fas fa-heart text-white"></i>
                                </button>
                                <button onclick="window.location.href='{% url 'product_detail' product.id %}'" class="bg-white/20 hover:bg-white/40 p-2 rounded-full transition-colors duration-300" title="Quick View">
                                    <i class="fas fa-eye text-white"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Product Info -->
                <div class="p-6">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl font-bold text-light group-hover:text-accent transition-colors duration-300">{{ product.name }}</h3>
						{% with product.reviews.all as reviews %}
                        {% if reviews %}
                        {% with product.get_rating_count as review_count %}
                        <div class="flex items-center">
                            <div class="flex text-yellow-400">
                                {% with ''|center:5 as range %}
                                {% for _ in range %}
                                    {% if forloop.counter <= product.avg_rating|floatformat:0|add:"0" %}
                                    <i class="fas fa-star text-accent text-sm"></i>
                                    {% endif %}
                                {% endfor %}
                                {% endwith %}
                            </div>
                            <span class="text-xs text-light/80 text-gray-500 ml-1">({{ review_count }})</span>
                            <span class="text-xs text-light/80 text-gray-700 ml-2">{{ product.avg_rating|floatformat:1 }}</span>
                        </div>
                        {% endwith %}
                        {% endif %}
                        {% endwith %}
                    </div>
					
                       
                    <p class="text-light/70 mb-4 text-sm line-clamp-2">{{ product.description|truncatechars:80 }}</p>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-baseline">
                            <span class="text-2xl font-bold text-accent">Rs. {{ product.price }}</span>
                            {% if product.old_price %}
                            <span class="text-light/50 line-through ml-2 text-sm">Rs. {{ product.old_price }}</span>
                            {% endif %}
                        </div>
                        
                        <button type="button" onclick="window.location.href='{% url 'order' product.id %}'"class="bg-secondary hover:bg-accent text-dark px-4 py-2 rounded-lg font-medium flex items-center transition-colors duration-300">
        				<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            			<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
        				</svg>
    					<span>Buy Now</span>
						</button>
                    </div>
                </div>
                
                <!-- Product Tags -->
                <div class="px-6 pb-6 flex flex-wrap gap-2">
                    {% if product.organic %}
                    <span class="bg-secondary/30 text-light px-3 py-1 rounded-full text-xs">Organic</span>
                    {% endif %}
                    {% if product.local %}
                    <span class="bg-secondary/30 text-light px-3 py-1 rounded-full text-xs">Local</span>
                    {% endif %}
                    <span class="bg-secondary/30 text-light px-3 py-1 rounded-full text-xs">{{ product.category|default:"Seeds" }}</span>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-16">
                <div class="bg-white/10 backdrop-filter backdrop-blur-lg rounded-3xl p-12 max-w-lg mx-auto shadow-2xl border border-white/10">
                    <div class="bg-accent/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fas fa-seedling text-accent text-3xl"></i>
                    </div>
                    <h3 class="text-3xl font-serif font-bold text-light mb-4">Coming Soon</h3>
                    <p class="text-light/80 mb-8 text-lg">We're cultivating a fresh selection of premium agricultural products. Check back soon for our harvest!</p>
                    <a href="#" class="inline-block bg-accent text-primary px-8 py-4 rounded-full font-bold text-lg hover:bg-secondary transition-all duration-300 transform hover:scale-105 shadow-lg">
                        <i class="fas fa-bell mr-2"></i> Notify Me
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
		
        
        <!-- View All Products Button -->
        <div class="text-center mt-16">
            <a href="/product" class="inline-flex items-center px-8 py-4 border-2 border-accent text-lg font-bold rounded-full text-accent hover:bg-accent hover:text-primary transition-all duration-300 transform hover:scale-105 hover:shadow-xl">
                <span>Browse All Products</span>
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>
</section>

<style>
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
    }
    @keyframes leaf {
        0%, 100% { transform: translate(0, 0) scale(1); }
        25% { transform: translate(20px, -30px) scale(1.1); }
        50% { transform: translate(-20px, 20px) scale(0.9); }
        75% { transform: translate(30px, 30px) scale(1.05); }
    }
    .animate-float {
        animation: float 15s ease infinite;
    }
    .animate-leaf {
        animation: leaf 25s ease infinite;
    }
    .animation-delay-1000 {
        animation-delay: 1s;
    }
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-3000 {
        animation-delay: 3s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>

<!-- Featured Products Section ends -->





<!-- Featured Products Section -->
<section id="products" class="py-20 relative overflow-hidden bg-gradient-to-br from-primary/5 via-light to-secondary/10">
    <!-- Decorative background elements -->
    <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
        <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-primary rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"></div>
        <div class="absolute top-1/3 right-1/4 w-64 h-64 bg-accent rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-1/4 right-1/3 w-64 h-64 bg-secondary rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"></div>
    </div>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section header with animated elements -->
        <div class="text-center mb-16 relative">
            <span class="inline-block px-4 py-1 rounded-full bg-primary/10 text-primary font-medium text-sm mb-4 animate-pulse">Top Sellers</span>
            <h3 class="text-5xl font-serif font-bold text-dark mb-4 relative inline-block">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">Most Sold Products</span>
            </h3>
            <div class="h-1 w-24 bg-gradient-to-r from-primary to-accent mx-auto rounded-full mb-6"></div>
            <p class="text-gray-600 max-w-2xl mx-auto text-lg">Discover our top-selling products, loved by customers for their unbeatable quality, reliability, and value. From everyday essentials to popular favorites, find out what's trending now!</p>
        </div>
        
        <div class="relative">
            <!-- Product carousel with enhanced styling -->
            <div class="overflow-x-auto pb-8 scrollbar-hide -mx-4">
                <div class="flex space-x-8 px-4 py-4">
                    {% for product in trending_products %}
                    <div class="group bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 min-w-[300px] max-w-[340px] border border-gray-100">
                        <!-- Product image with overlay effects -->
                        <div class="relative overflow-hidden">
                            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-primary/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <!-- Product badges -->
                            <div class="absolute top-3 left-3 flex flex-col gap-2">
                                
                                {% if product.discount %}
                                <span class="bg-secondary text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wider shadow-lg">{{ product.discount }}% Off</span>
                                {% endif %}
                            </div>
                            
                            <!-- Quick action buttons -->
                            <div class="absolute bottom-4 left-0 right-0 flex justify-center gap-2 translate-y-10 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300">
                                <button class="bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-300 hover:scale-110">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                    </svg>
                                </button>
                                <button onclick="window.location.href='{% url 'product_detail' product.id %}'" class="bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-300 hover:scale-110">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                                <button onclick="window.location.href='{% url 'add_to_cart' product.id %}'" class="bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-300 hover:scale-110">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Product details with enhanced typography and layout -->
                        <div class="p-6">
                            <!-- Product name and price -->
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-xl font-bold text-dark line-clamp-1 group-hover:text-primary transition-colors">{{ product.name }}</h4>
                                
                            </div>
                            <div class="flex flex-col ">
                                    {% if product.original_price %}
                                    <span class="text-sm text-gray-500 line-through">Rs. {{ product.original_price }}</span>
                                    {% endif %}
                                    <span class="text-xl font-bold text-primary">Rs. {{ product.price }}</span>
                                </div>
                            
                            <!-- Product ratings -->
                            
							
								
								
								<!-- Dynamic Rating Display -->
								 
								{% with product.reviews.all as reviews %}
								{% if reviews %}
								{% with product.get_rating_count as review_count %}
								<div class="flex items-center">
									<div class="flex text-yellow-400">
										{% with ''|center:5 as range %}
										{% for _ in range %}
											{% if forloop.counter <= product.avg_rating|floatformat:0|add:"0" %}
											<svg xmlns="http://www.w3.org/2000/svg" class="h-2.5 w-2.5" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>											
											{% endif %}
										{% endfor %}
										{% endwith %}
										
									</div>
									<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>

									<span class="text-xs text-gray-500 ml-1">({{ review_count }} reviews)</span>
									<span class="text-xs text-gray-700 ml-2">{{ product.avg_rating|floatformat:1 }}</span>
								</div>
								{% endwith %}
								{% endif %}
								{% endwith %}
								


								
				
							
                            
                            <!-- Social proof -->
                            <div class="flex items-center text-sm text-gray-600 mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                                <span class="font-medium">{{ product.sold }} sold</span>
                                <span class="mx-2">•</span>
                                <span class="text-secondary font-medium ">{{ product.in_stock|default:"In stock" }}</span>
                            </div>
                            
                            <!-- CTA Button with animation -->
                            <div class="mt-6">
                                <a href="#" class="relative group/button block w-full">
                                    <div class="absolute -inset-0.5 bg-gradient-to-r from-primary to-secondary rounded-lg blur opacity-60 group-hover/button:opacity-100 transition duration-500 group-hover/button:duration-200 animate-tilt"></div>
                                    <button onclick="window.location.href='{% url 'order' product.id %}'" class="relative block w-full bg-gradient-to-r from-primary to-secondary text-white px-6 py-3.5 rounded-lg font-medium transition-all duration-300 hover:shadow-[0_0_25px_rgba(44,95,45,0.5)] focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50">
                                        <span class="flex items-center justify-center">
                                            <span>Buy Now</span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                                            </svg>
                                        </span>
                                    </button>
                                </a>
                            </div>
                        </div>
						
                    </div>
					 
                    {% empty %}
                    <!-- Enhanced empty state -->
                    <div class="flex items-center justify-center w-full py-16">
                        <div class="text-center bg-white p-8 rounded-2xl shadow-xl max-w-md">
                            <div class="w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                                </svg>
                            </div>
                            <h4 class="text-2xl font-bold text-dark mb-2">No premium products yet</h4>
                            <p class="text-gray-600 mb-6">We're working on adding exciting new agricultural products to our collection. Check back soon!</p>
                            <a href="#" class="inline-block bg-primary text-white px-6 py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                                Browse Categories
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Enhanced navigation controls -->
            <div class="flex justify-center mt-8">
                <div class="flex items-center space-x-4">
                    <button class="w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-primary hover:bg-primary/10 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div class="flex space-x-2">
                        <span class="w-3 h-3 bg-primary rounded-full"></span>
                        <span class="w-3 h-3 bg-gray-300 rounded-full"></span>
                        <span class="w-3 h-3 bg-gray-300 rounded-full"></span>
                        <span class="w-3 h-3 bg-gray-300 rounded-full"></span>
                    </div>
                    <button class="w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-primary hover:bg-primary/10 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Enhanced CTA section -->
        <div class="mt-16 text-center">
            <a href="/product" class="inline-flex items-center px-6 py-3 bg-white border-2 border-primary text-primary rounded-full font-bold text-lg hover:bg-primary/5 transition-colors group">
                View All Products
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
            </a>
        </div>
        
       
    
    <!-- Add custom animation styles -->
    <style>
        @keyframes blob {
            0% {
                transform: translate(0px, 0px) scale(1);
            }
            33% {
                transform: translate(30px, -50px) scale(1.1);
            }
            66% {
                transform: translate(-20px, 20px) scale(0.9);
            }
            100% {
                transform: translate(0px, 0px) scale(1);
            }
        }
        .animate-blob {
            animation: blob 7s infinite;
        }
        .animation-delay-2000 {
            animation-delay: 2s;
        }
        .animation-delay-4000 {
            animation-delay: 4s;
        }
        .animate-tilt {
            animation: tilt 10s infinite linear;
        }
        @keyframes tilt {
            0%, 100% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(1deg);
            }
            75% {
                transform: rotate(-1deg);
            }
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</section>
<!-- Featured Products Section ends -->

<!-- Refer and Earn Section - Horizontal Scrollable Layout -->
<section class="py-16 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 relative overflow-hidden">
    <!-- Decorative Elements -->
    <div class="absolute top-0 right-0 w-64 h-64 bg-indigo-300/20 rounded-full -translate-y-1/2 translate-x-1/2"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-purple-300/20 rounded-full translate-y-1/2 -translate-x-1/2"></div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-12 max-w-2xl mx-auto">
            <div class="inline-flex items-center justify-center mb-4">
                <span class="w-12 h-1 bg-indigo-200 rounded-full"></span>
                <span class="mx-4 text-sm font-bold text-indigo-600 px-4 py-2 bg-indigo-100 rounded-full">REFERRAL PROGRAM</span>
                <span class="w-12 h-1 bg-indigo-200 rounded-full"></span>
            </div>
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                <span class="relative inline-block">
                    Refer
                    <svg class="absolute -bottom-2 left-0 w-full" viewBox="0 0 358 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9C118.957 4.47226 242.456 -1.86658 355 9" stroke="#8B5CF6" stroke-width="6" stroke-linecap="round"/>
                    </svg>
                </span>
                <span class="mx-2">&</span>
                <span class="relative inline-block">
                    Earn
                    <svg class="absolute -bottom-2 left-0 w-full" viewBox="0 0 358 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9C118.957 4.47226 242.456 -1.86658 355 9" stroke="#EC4899" stroke-width="6" stroke-linecap="round"/>
                    </svg>
                </span>
            </h2>
            <p class="text-lg text-gray-600">Share products and earn commissions on every purchase!</p>
        </div>
        
        <!-- Products in Horizontal Scrollable Layout -->
        <div class="relative">
            <!-- Scroll Indicators -->
            <div class="absolute left-0 top-1/2 -translate-y-1/2 z-10 hidden md:block">
                <button class="p-2 rounded-full bg-white shadow-md hover:bg-gray-100 focus:outline-none" onclick="scrollProducts('left')">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
            </div>
            <div class="absolute right-0 top-1/2 -translate-y-1/2 z-10 hidden md:block">
                <button class="p-2 rounded-full bg-white shadow-md hover:bg-gray-100 focus:outline-none" onclick="scrollProducts('right')">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
            
            <!-- Scrollable Container -->
            <div id="products-scroll-container" class="flex overflow-x-auto pb-6 scrollbar-hide snap-x snap-mandatory scroll-smooth">
                {% for product in products %}
                <div class="product-card flex-shrink-0 w-64 mx-2 snap-start group bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border border-gray-100 relative">
                    <!-- Commission Badge - Always Visible -->
                    <div class="absolute top-0 left-0 z-10 w-full">
                        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-2 py-1 font-bold text-xs flex items-center justify-center shadow-md">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span id="commission" data-commission="{{ product.commission }}" data-price="{{ product.price }}">
  Earn <span id="commission-percentage">...</span>%
</span>

<script>
  const span = document.getElementById('commission');
  const commission = parseFloat(span.dataset.commission);
  const price = parseFloat(span.dataset.price);

  if (!isNaN(commission) && !isNaN(price) && price !== 0) {
    const percentage = ((commission / price) * 100).toFixed(0);  // change toFixed(2) if you want decimals
    document.getElementById('commission-percentage').innerText = percentage;
  } else {
    document.getElementById('commission-percentage').innerText = '0';
  }
</script>
                        </div>
                    </div>
                    
                    <!-- Product Image -->
                    <div class="relative overflow-hidden h-40 mt-7"> <!-- Added mt-7 to account for the commission badge -->
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    </div>
                    
                    <!-- Product Info -->
                    <div class="p-3">
                        <h3 class="text-sm font-bold text-gray-900 truncate group-hover:text-indigo-600 transition-colors duration-300">{{ product.name }}</h3>
                        
                        <div class="flex items-center justify-between mt-2 mb-3">
                            <span class="text-base font-bold text-gray-900">Rs. {{ product.price }}</span>
                        </div>
                        
                        <!-- Refer Button -->
                        <button onclick="showReferralModal('{{ product.id }}', '{{ product.name }}')" class="w-full py-2 px-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white text-sm font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                            </svg>
                            Refer & Earn
                        </button>
                    </div>
                </div>
                {% empty %}
                <div class="flex-shrink-0 w-full flex flex-col items-center justify-center py-12 text-center bg-white rounded-xl shadow-md">
                    <div class="w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">No Products Available</h3>
                    <p class="text-gray-600 max-w-md mb-4">Check back soon for new products to refer!</p>
                    <a href="{% url 'home' %}" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors">
                        Back to Home
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Mobile Scroll Hint -->
        <div class="mt-4 text-center text-sm text-gray-500 md:hidden">
            <p>← Swipe to see more products →</p>
        </div>
    </div>
</section>

<!-- Referral Modal -->
<div id="referral-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <!-- Background overlay -->
        <div class="fixed inset-0 transition-opacity" aria-hidden="true">
            <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
        </div>

        <!-- Modal panel -->
        <div class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                    <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-white/20 sm:mx-0 sm:h-10 sm:w-10">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                        </svg>
                    </div>
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                        <h3 class="text-lg leading-6 font-medium text-white" id="modal-title">
                            Share & Earn Rewards!
                        </h3>
                        <div class="mt-2">
                            <p class="text-sm text-white/90" id="product-name-display">
                                Share this product with your friends and earn commission on their purchase!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="mt-6">
                    <label for="referral-link" class="block text-sm font-medium text-gray-700 mb-2">Your Unique Referral Link</label>
                    <div class="flex rounded-md shadow-sm">
                        <input type="text" id="referral-link" class="flex-1 min-w-0 block w-full px-3 py-2 rounded-l-md border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" readonly>
                        <button type="button" onclick="copyReferralLink()" class="inline-flex items-center px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                            </svg>
                        </button>
                    </div>
                    <p id="copy-message" class="mt-2 text-sm text-green-600 hidden flex items-center">
                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        Link copied to clipboard!
                    </p>
                </div>
                
                <div class="mt-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Share via</label>
                    <div class="grid grid-cols-2 gap-4">
                        <button type="button" onclick="shareVia('whatsapp')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                            WhatsApp
                        </button>
                        <button type="button" onclick="shareVia('facebook')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                            Facebook
                        </button>
                        <button type="button" onclick="shareVia('twitter')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-500 hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                            Twitter
                        </button>
                        <button type="button" onclick="shareVia('linkedin')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                            LinkedIn
                        </button>
                        <button type="button" onclick="shareVia('telegram')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                            </svg>
                            Telegram
                        </button>
                        <button type="button" onclick="shareVia('email')" class="inline-flex items-center justify-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-300 transform hover:scale-105">
                            <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            Email
                        </button>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                <button type="button" onclick="closeReferralModal()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-all duration-300">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript for Referral Modal and Horizontal Scrolling -->
<script>
    // Show referral modal with correct link format
    function showReferralModal(productId, productName) {
        // Get the modal
        const modal = document.getElementById('referral-modal');
        
        // Store product ID in modal for later use
        modal.dataset.productId = productId;
        
        // Set product name in modal
        document.getElementById('product-name-display').textContent = 'Share "' + productName + '" with your friends and earn commission on their purchase!';
        
        // Generate referral link with the correct format
        const referralLink = 'https://{{ request.get_host }}/refer/{{ request.user.profile.referral_code }}';
        document.getElementById('referral-link').value = referralLink;
        
        // Show the modal with animation
        modal.classList.remove('hidden');
        modal.querySelector('.inline-block').classList.add('animate-fade-in-up');
    }
    
    function closeReferralModal() {
        const modal = document.getElementById('referral-modal');
        const modalContent = modal.querySelector('.inline-block');
        
        // Add fade out animation
        modalContent.classList.add('animate-fade-out-down');
        
        // Hide modal after animation
        setTimeout(() => {
            modal.classList.add('hidden');
            modalContent.classList.remove('animate-fade-out-down');
            document.getElementById('copy-message').classList.add('hidden');
        }, 300);
    }
    
    function copyReferralLink() {
        const referralLink = document.getElementById('referral-link');
        referralLink.select();
        document.execCommand('copy');
        
        // Show copy message with animation
        const copyMessage = document.getElementById('copy-message');
        copyMessage.classList.remove('hidden');
        copyMessage.classList.add('animate-fade-in');
        
        // Hide message after 3 seconds with fade out
        setTimeout(function() {
            copyMessage.classList.add('animate-fade-out');
            setTimeout(() => {
                copyMessage.classList.add('hidden');
                copyMessage.classList.remove('animate-fade-out');
            }, 300);
        }, 3000);
    }
    
    function shareVia(platform) {
        const referralLink = document.getElementById('referral-link').value;
        const productName = document.getElementById('product-name-display').textContent;
        let shareUrl;
        
        switch(platform) {
            case 'whatsapp':
                shareUrl = 'https://api.whatsapp.com/send?text=' + encodeURIComponent('Check out this amazing product: ' + referralLink);
                break;
            case 'facebook':
                shareUrl = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(referralLink);
                break;
            case 'twitter':
                shareUrl = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent('Check out this amazing product: ' + referralLink);
                break;
            case 'linkedin':
                shareUrl = 'https://www.linkedin.com/sharing/share-offsite/?url=' + encodeURIComponent(referralLink);
                break;
            case 'telegram':
                shareUrl = 'https://t.me/share/url?url=' + encodeURIComponent(referralLink) + '&text=' + encodeURIComponent('Check out this amazing product!');
                break;
            case 'email':
                shareUrl = 'mailto:?subject=' + encodeURIComponent('Check out this amazing product!') + '&body=' + encodeURIComponent('I found this amazing product that you might be interested in: ' + referralLink);
                break;
        }
        
        // Record the share
        recordShare(platform);
        
        // Open share URL
        if (platform === 'email') {
            window.location.href = shareUrl;
        } else {
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }
    }
    
    // Close modal when clicking outside
    window.onclick = function(event) {
        const modal = document.getElementById('referral-modal');
        if (event.target === modal) {
            closeReferralModal();
        }
    }
    
    // Horizontal scrolling function
    function scrollProducts(direction) {
        const container = document.getElementById('products-scroll-container');
        const scrollAmount = 300; // Adjust as needed
        
        if (direction === 'left') {
            container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
        } else {
            container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }
    }

    // Load share counts from server
    function loadShareStats() {
        fetch('/get_share_stats/')
            .then(response => response.json())
            .then(data => {
                document.getElementById('shareCounter').textContent = data.total;
                Object.entries(data.platforms).forEach(([platform, count]) => {
                    document.getElementById(`${platform}Shares`).textContent = count;
                });
            })
            .catch(error => console.error('Error loading share stats:', error));
    }

    // Record share and update counter
    function recordShare(platform) {
        const modal = document.getElementById('referral-modal');
        const productId = modal.dataset.productId;
        
        const formData = new FormData();
        formData.append('platform', platform);
        if (productId) {
            formData.append('product_id', productId);
        }

        fetch('/record_share/', {
            method: 'POST',
            body: formData,
            headers: {
                'X-CSRFToken': getCookie('csrftoken')
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Update counters with new stats
                document.getElementById('shareCounter').textContent = data.stats.total;
                Object.entries(data.stats.platforms).forEach(([platform, count]) => {
                    document.getElementById(`${platform}Shares`).textContent = count;
                });
            }
        })
        .catch(error => console.error('Error recording share:', error));
    }

    // Get CSRF token from cookies
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }

    // Load share stats when the page loads
    window.addEventListener('load', loadShareStats);
</script>

<!-- Add this to your CSS -->
<style>
    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;  /* Chrome, Safari and Opera */
    }
    
    .animate-float {
        animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
        0% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-20px);
        }
        100% {
            transform: translateY(0px);
        }
    }
    
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    
    .animation-delay-4000 {
        animation-delay: 4s;
    }
</style>
<!-- Refer and Earn Section - ends -->





<!-- Categories Section start-->
<section class="py-16 bg-gradient-to-b from-gray-50 to-gray-100">
    <div class="container mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8">
        <h2 class="section-title text-center text-2xl md:text-3xl font-bold text-gray-800 mb-8">Browse by Categories</h2>
        <div class="overflow-x-auto whitespace-nowrap scrollbar-hide pb-4">
            <div class="flex space-x-6">
                {% for category in categories %}
                    <a href="/category/{{ category.id }}"
                       class="block bg-white shadow-md rounded-lg p-6 text-center hover:shadow-lg transition min-w-[250px] max-w-[250px] overflow-hidden border-l-4 border-indigo-500 hover:border-indigo-600 hover:-translate-y-1 duration-300">
                        <h3 class="text-lg font-semibold text-indigo-700 mb-2">{{ category.name }}</h3>
                        <p class="text-gray-600 text-sm truncate">{{ category.description|truncatewords:10 }}</p>
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<div class="flex justify-between items-start mb-2">
                        <h3 class="text-xl font-bold text-light group-hover:text-accent transition-colors duration-300">{{ product.name }}</h3>
						{% with product.reviews.all as reviews %}
                        {% if reviews %}
                        {% with product.get_rating_count as review_count %}
                        <div class="flex items-center">
                            <div class="flex text-yellow-400">
                                {% with ''|center:5 as range %}
                                {% for _ in range %}
                                    {% if forloop.counter <= product.avg_rating|floatformat:0|add:"0" %}
                                    <i class="fas fa-star text-accent text-sm"></i>
                                    {% endif %}
                                {% endfor %}
                                {% endwith %}
                            </div>
                            <span class="text-xs text-light/80 text-gray-500 ml-1">({{ review_count }})</span>
                            <span class="text-xs text-light/80 text-gray-700 ml-2">{{ product.avg_rating|floatformat:1 }}</span>
                        </div>
                        {% endwith %}
                        {% endif %}
                        {% endwith %}
                    </div>
					
<!-- Add minimal CSS for scrollbar hiding -->
<style>
	.to-gray-100 {
		--tw-gradient-to:rgb(109, 101, 30) var(--tw-gradient-to-position);
	}
    /* For Webkit browsers */
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    
    /* For IE, Edge and Firefox */
    .scrollbar-hide {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
</style>
<!-- Categories Section ends-->

<!-- Tailwind CSS to Hide Scrollbar and Fix Overflow -->
<style>
	.scrollbar-hide::-webkit-scrollbar {
		display: none;
	}
	.scrollbar-hide {
		-ms-overflow-style: none;
		scrollbar-width: none;
	}
	a.block p {
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
</style>


  

<!-- Call to Action Section -->
<section class="cta-section">
	<div class="container mx-auto max-w-screen-xl px-6">
		<h2>Ready to Experience Natural Goodness?</h2>
		<p>Shop now and explore a wide range of high-quality products — dairy, organic, local, and more — all delivered with care</p>
		<a href="/product" class="btn-cta">Shop Now</a>
	</div>
</section>



<!-- script for hero slider  -->
<script>
	const slides = document.querySelectorAll('.slide');
	const indicators = document.querySelectorAll('.indicator');
	let currentSlide = 0;
	let autoAdvanceInterval;

	function goToSlide(index) {
		stopAutoAdvance();  // Stop the current interval
		showSlide(index);   // Show the selected slide
		startAutoAdvance(); // Restart auto-advance from this point
	}
	function showSlide(index) {
		slides[currentSlide].classList.remove('active');
		indicators[currentSlide].classList.remove('w-8', 'bg-gray-600');
		indicators[currentSlide].classList.add('w-2', 'bg-gray-600/20');

		currentSlide = index;

		slides[currentSlide].classList.add('active');
		indicators[currentSlide].classList.remove('w-2', 'bg-gray-600/20');
		indicators[currentSlide].classList.add('w-8', 'bg-gray-600');
	}

	function nextSlide() {
		showSlide((currentSlide + 1) % slides.length);
	}

	function prevSlide() {
		showSlide((currentSlide - 1 + slides.length) % slides.length);
	}

	function goToSlide(index) {
		showSlide(index);
	}



	function startAutoAdvance() {
		autoAdvanceInterval = setInterval(nextSlide, 5000);
	}
	// Initialize first slide
	showSlide(0);

	// Start auto-advance
	startAutoAdvance();

	// Pause auto-advance on hover
	const sliderContainer = document.querySelector('.relative.h-screen');
	sliderContainer.addEventListener('mouseenter', stopAutoAdvance);
	sliderContainer.addEventListener('mouseleave', startAutoAdvance);

	// Add click event listeners to navigation buttons
	document.querySelector('button[onclick="prevSlide()"]').addEventListener('click', () => {
		stopAutoAdvance();
		prevSlide();
		startAutoAdvance();
	});

	document.querySelector('button[onclick="nextSlide()"]').addEventListener('click', () => {
		stopAutoAdvance();
		nextSlide();
		startAutoAdvance();
	});

	// Add click event listeners to indicators
	indicators.forEach((indicator, index) => {
		indicator.addEventListener('click', () => {
			stopAutoAdvance();
			goToSlide(index);
			startAutoAdvance();
		});
	});
</script>
<!-- script for hero slider end -->



{% endblock %}